/**
 * Minified by jsDelivr using Terser v5.13.1.
 * Original file: /npm/jdbscan@1.0.0/dist/jDBScan.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}var jDBSCAN=function(){var t,n,e,o=[],i=[],r=[],a=c,u=function(t,n){return Math.abs(n.timestamp-t.timestamp)};function l(t,n){var e,o,i=-1,r=t.length;if(1===arguments.length){for(;++i<r&&!(null!=(e=t[i])&&e<=e);)e=void 0;for(;++i<r;)null!=(o=t[i])&&e>o&&(e=o)}else{for(;++i<r&&!(null!=(e=n.call(t,t[i],i))&&e<=e);)e=void 0;for(;++i<r;)null!=(o=n.call(t,t[i],i))&&e>o&&(e=o)}return e}function f(t,n){var e,o,i=-1,r=t.length;if(1===arguments.length){for(;++i<r&&!(null!=(e=t[i])&&e<=e);)e=void 0;for(;++i<r;)null!=(o=t[i])&&o>e&&(e=o)}else{for(;++i<r&&!(null!=(e=n.call(t,t[i],i))&&e<=e);)e=void 0;for(;++i<r;)null!=(o=n.call(t,t[i],i))&&o>e&&(e=o)}return e}function c(t,n){return Math.sqrt(Math.pow(n.x-t.x,2)+Math.pow(n.y-t.y,2))}function s(t,n){return Math.abs(n.x-t.x)+Math.abs(n.y-t.y)}function h(t,n){if("undefined"==typeof precision);var e=t.location.latitude*Math.PI/180,o=t.location.longitude*Math.PI/180,i=n.location.latitude*Math.PI/180,r=i-e,a=n.location.longitude*Math.PI/180-o,u=Math.sin(r/2)*Math.sin(r/2)+Math.cos(e)*Math.cos(i)*Math.sin(a/2)*Math.sin(a/2);return(6371*(2*Math.atan2(Math.sqrt(u),Math.sqrt(1-u)))).toPrecision(precision)}function d(e){for(var i=[],r=o[e],l=0;l<o.length;l++)e!==l&&(n&&u(o[l],r)<=n&&a(o[l],r)<=t||a(o[l],r)<=t)&&i.push(l);return i}function y(t,n,o){i[o-1].push(t),r[t]=o;for(var a=0;a<n.length;a++){var u=n[a];if(void 0===r[u]){r[u]=0;var l=d(u);l.length>=e&&y(u,l,o)}r[u]<1&&(r[u]=o,i[o-1].push(u))}}var p=function(){r=[],i=[];for(var t=0;t<o.length;t++)if(void 0===r[t]){r[t]=0;var n=d(t);if(n.length<e)r[t]=0;else i.push([]),y(t,n,i.length)}return r};return p.getClusters=function(){for(var t=i.length,e=[],r=0;r<t;r++){if(a===c||a===s){e[r]={x:0,y:0};for(var u=0;u<i[r].length;u++)e[r].x+=o[i[r][u]].x,e[r].y+=o[i[r][u]].y;e[r].x/=i[r].length,e[r].y/=i[r].length,e[r].dimension=i[r].length,e[r].parts=i[r]}if(a===h){e[r]={location:{latitude:0,longitude:0,accuracy:0}};for(var d=0;d<i[r].length;d++)e[r].location.latitude+=o[i[r][d]].location.latitude,e[r].location.longitude+=o[i[r][d]].location.longitude,e[r].location.accuracy+=o[i[r][d]].location.accuracy;e[r].dimension=i[r].length,e[r].parts=i[r],e[r].location.latitude/=i[r].length,e[r].location.longitude/=i[r].length,e[r].location.accuracy/=i[r].length}n&&(e[r].duration={},e[r].duration.start=l(i[r],(function(t){return o[t].timestamp})),e[r].duration.end=f(i[r],(function(t){return o[t].timestamp})),e[r].duration.span=e[r].duration.end-e[r].duration.start)}return e},p.data=function(t){return 0===arguments.length?o:(Array.isArray(t)&&(o=t),p)},p.eps=function(n){return 0===arguments.length?t:("number"==typeof n&&(t=n),p)},p.timeEps=function(t){return 0===arguments.length?n:("number"==typeof t&&(n=t),p)},p.minPts=function(t){return 0===arguments.length?e:("number"==typeof t&&(e=t),p)},p.distance=function(t){if(1===arguments.length)if("string"==typeof t)switch(t){case"HAVERSINE":a=h;break;case"EUCLIDEAN":default:a=c;break;case"MANHATTAN":a=s}else"function"==typeof t&&(a=t);return p},p.timeDistance=function(t){return 1===arguments.length&&(u=t),p},p};!function(t,n){"function"==typeof define&&define.amd?define([],n):"object"===("undefined"==typeof module?"undefined":_typeof(module))&&module.exports?module.exports=n():t.jDBSCAN=n()}("undefined"!=typeof self?self:this,(function(){return jDBSCAN}));
//# sourceMappingURL=/sm/38366e852a0cea3317802dac050ad52a780c45fde5a34b9c7e66b56874786c69.map